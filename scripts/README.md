# Scripts ç›®å½•è¯´æ˜

## ğŸ“ ç›®å½•ç”¨é€”

`scripts/` ç›®å½•åŒ…å«äº†é¡¹ç›®ä¸­ç”¨äº**æ‰§è¡Œå…·ä½“ä»»åŠ¡**çš„å¯æ‰§è¡Œè„šæœ¬ï¼Œè¿™äº›è„šæœ¬æ˜¯é¡¹ç›®çš„**å…¥å£ç‚¹**å’Œ**å·¥ä½œæµç¨‹æ§åˆ¶å™¨**ã€‚

## ğŸ—ï¸ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ training/                    # è®­ç»ƒç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ run_regression_training.py    # å›å½’æ¨¡å‹è®­ç»ƒä¸»è„šæœ¬
â”‚   â””â”€â”€ batch_regression_run.py       # æ‰¹é‡è®­ç»ƒè„šæœ¬
â”œâ”€â”€ evaluation/                  # è¯„ä¼°ç›¸å…³è„šæœ¬
â”‚   â””â”€â”€ batch_test.py           # æ‰¹é‡æµ‹è¯•è„šæœ¬
â””â”€â”€ data_processing/            # æ•°æ®å¤„ç†è„šæœ¬ (å¾…æ·»åŠ )
```

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### 1. è®­ç»ƒè„šæœ¬ (`training/`)

#### `run_regression_training.py` - å›å½’è®­ç»ƒä¸»è„šæœ¬
- **åŠŸèƒ½**: å•ä¸ªå›å½’æ¨¡å‹çš„å®Œæ•´è®­ç»ƒæµç¨‹
- **ç‰¹æ€§**:
  - æ”¯æŒå¤šç§æ¨¡å‹: DualSimpleCNN, VGG11, ResNet18, DualUNetç­‰
  - å‘½ä»¤è¡Œå‚æ•°é…ç½®
  - äº¤å‰éªŒè¯æ”¯æŒ
  - è‡ªåŠ¨ç»“æœä¿å­˜å’Œå¯è§†åŒ–
  - è®­ç»ƒæ—¥å¿—è®°å½•

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
python scripts/training/run_regression_training.py \
    --config Fish \
    --model DualSimpleCNN \
    --epoch 200 \
    --batch_size 5 \
    --fold_number 20
```

#### `batch_regression_run.py` - æ‰¹é‡è®­ç»ƒè„šæœ¬
- **åŠŸèƒ½**: è‡ªåŠ¨åŒ–æ‰¹é‡è®­ç»ƒå¤šä¸ªé…ç½®ç»„åˆ
- **ç‰¹æ€§**:
  - å¤šé…ç½®å¹¶è¡Œè®­ç»ƒ
  - å¤šæ¨¡å‹å¯¹æ¯”å®éªŒ
  - è‡ªåŠ¨æ—¥å¿—ç®¡ç†
  - å‚æ•°ç½‘æ ¼æœç´¢

### 2. è¯„ä¼°è„šæœ¬ (`evaluation/`)

#### `batch_test.py` - æ‰¹é‡æµ‹è¯•è„šæœ¬
- **åŠŸèƒ½**: å¯¹è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œæ‰¹é‡è¯„ä¼°
- **ç‰¹æ€§**:
  - è‡ªåŠ¨å‘ç°æ¨¡å‹æ–‡ä»¶
  - æ‰¹é‡æ€§èƒ½è¯„ä¼°
  - ç»“æœæ±‡æ€»å’Œæ¯”è¾ƒ

## ğŸ”„ ä¸é¡¹ç›®å…¶ä»–éƒ¨åˆ†çš„å…³ç³»

### Scripts vs Src çš„åŒºåˆ«:

| ç›®å½• | ç”¨é€” | å†…å®¹ç±»å‹ | è°ƒç”¨æ–¹å¼ |
|------|------|----------|----------|
| `src/` | **æ ¸å¿ƒä»£ç åº“** | å¯é‡ç”¨çš„æ¨¡å—ã€ç±»ã€å‡½æ•° | è¢«å…¶ä»–ä»£ç å¯¼å…¥ |
| `scripts/` | **æ‰§è¡Œå…¥å£** | å¯æ‰§è¡Œçš„å·¥ä½œæµç¨‹è„šæœ¬ | ç›´æ¥è¿è¡Œæˆ–å‘½ä»¤è¡Œè°ƒç”¨ |

### å·¥ä½œæµç¨‹:
```
ç”¨æˆ· â†’ scripts/ â†’ src/ â†’ configs/ â†’ data/
     â†“
   ç»“æœè¾“å‡ºåˆ° results/ å’Œ logs/
```

## ğŸ’¡ è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£**: æ¯ä¸ªè„šæœ¬ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šä»»åŠ¡
2. **å¯é…ç½®æ€§**: é€šè¿‡å‘½ä»¤è¡Œå‚æ•°å’Œé…ç½®æ–‡ä»¶æ§åˆ¶è¡Œä¸º
3. **å¯é‡ç”¨æ€§**: è°ƒç”¨ `src/` ä¸­çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
4. **æ—¥å¿—è®°å½•**: å®Œæ•´çš„æ‰§è¡Œæ—¥å¿—å’Œç»“æœä¿å­˜
5. **é”™è¯¯å¤„ç†**: å¥å£®çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

## ğŸš€ ä½¿ç”¨å»ºè®®

### æ–°æ‰‹ç”¨æˆ·:
```bash
# 1. å•æ¬¡è®­ç»ƒæµ‹è¯•
python scripts/training/run_regression_training.py --config Fish --model DualSimpleCNN

# 2. æŸ¥çœ‹å¸®åŠ©
python scripts/training/run_regression_training.py --help
```

### é«˜çº§ç”¨æˆ·:
```bash
# 1. æ‰¹é‡å®éªŒ
python scripts/training/batch_regression_run.py

# 2. è‡ªå®šä¹‰å‚æ•°ç»„åˆ
python scripts/training/run_regression_training.py \
    --config ALL \
    --model DualUNet \
    --epoch 300 \
    --batch_size 8 \
    --patience 50
```

## ğŸ“‹ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°è„šæœ¬çš„æ­¥éª¤:

1. **ç¡®å®šè„šæœ¬ç±»å‹**: training/evaluation/data_processing
2. **åˆ›å»ºè„šæœ¬æ–‡ä»¶**: éµå¾ªå‘½åè§„èŒƒ
3. **å®ç°æ ¸å¿ƒé€»è¾‘**: è°ƒç”¨ `src/` ä¸­çš„æ¨¡å—
4. **æ·»åŠ å‘½ä»¤è¡Œå‚æ•°**: ä½¿ç”¨ `argparse`
5. **é›†æˆè·¯å¾„ç®¡ç†**: ä½¿ç”¨ `PathManager`
6. **æ·»åŠ æ—¥å¿—è®°å½•**: è®°å½•æ‰§è¡Œè¿‡ç¨‹
7. **æ›´æ–°æ–‡æ¡£**: åœ¨æ­¤READMEä¸­æ·»åŠ è¯´æ˜

### è„šæœ¬æ¨¡æ¿:
```python
#!/usr/bin/env python3
import sys
import os
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from src.utils.path_manager import PathManager
import argparse

def main():
    parser = argparse.ArgumentParser(description='è„šæœ¬æè¿°')
    # æ·»åŠ å‚æ•°...
    args = parser.parse_args()
    
    pm = PathManager()
    # ä½¿ç”¨è·¯å¾„ç®¡ç†å™¨...
    
    # æ‰§è¡Œä¸»è¦é€»è¾‘...

if __name__ == "__main__":
    main()
```

## ğŸ”§ ç»´æŠ¤è¯´æ˜

- **å®šæœŸæ£€æŸ¥**: ç¡®ä¿è„šæœ¬ä¸ `src/` æ¨¡å—çš„å…¼å®¹æ€§
- **å‚æ•°éªŒè¯**: éªŒè¯å‘½ä»¤è¡Œå‚æ•°çš„æœ‰æ•ˆæ€§
- **è·¯å¾„æ›´æ–°**: ä½¿ç”¨ `PathManager` ç®¡ç†æ‰€æœ‰è·¯å¾„
- **æ–‡æ¡£åŒæ­¥**: ä¿æŒREADMEä¸å®é™…åŠŸèƒ½åŒæ­¥

---

**æ€»ç»“**: `scripts/` ç›®å½•æ˜¯é¡¹ç›®çš„**æ‰§è¡Œå±‚**ï¼Œæä¾›äº†ç”¨æˆ·ä¸é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½äº¤äº’çš„ä¾¿æ·å…¥å£ï¼Œæ˜¯å®é™…å·¥ä½œæµç¨‹çš„æ§åˆ¶ä¸­å¿ƒã€‚